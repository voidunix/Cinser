set timeout=0
set default=0

# ---------------------------------------------------------------------------
# Vídeo híbrido (BIOS+UEFI):
# - Em BIOS/CSM: GRUB usa VBE/VESA
# - Em UEFI:     GRUB usa GOP
#
# Mantendo o 'gfxpayload=keep', o GRUB passa o framebuffer para o kernel via
# Multiboot (bit 12 + campos framebuffer_*). O driver VESA do Cinser já lê isso.
# ---------------------------------------------------------------------------

# Tenta habilitar saída gráfica. Se algum módulo não existir na tua instalação
# do GRUB, o boot ainda deve funcionar (no pior caso em modo texto).
insmod all_video
insmod gfxterm

# Escolhe um modo comum. Você pode trocar por 1280x720x32 etc.
set gfxmode=1024x768x32
set gfxpayload=keep

# Usa terminal gráfico quando possível
terminal_output gfxterm

menuentry "Tervia Cinser (i386)" {
    multiboot /boot/kernel.bin
    boot
}
